<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게임 굿즈 쇼핑몰</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-3.7.0.js"
        integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>
    <!-- JQuery UI -->
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"
        integrity="sha256-xLD7nhI62fcsEZK2/v8LsBcb4lG7dgULkuXoXB/j91c=" crossorigin="anonymous"></script>

    <!-- Boostrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

    <!-- Fontawesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- CSS -->
    <link rel="stylesheet" href="./css/productsByGame.css" />
</head>

<body>
    <header>
        <div class="container-md header">
            Header
        </div>
    </header>

    <main>
        <!-- Event Carousel -->
        <div class="container-md eventCarousel">
            <div id="eventCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img src="./media/71fa2843f86fada15a2428c76bbc783e.jpg" class="d-block w-100" alt="event1">
                    </div>
                    <div class="carousel-item">
                        <img src="./media/e016be34ad9d43095835232246e1051c.jpg" class="d-block w-100" alt="event2">
                    </div>
                    <div class="carousel-item">
                        <img src="./media/ef1534f4ebe4cd267b15c128eb97af85.jpg" class="d-block w-100" alt="event3">
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#eventCarousel"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#eventCarousel"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>

        <!-- Game Page Title -->
        <div class="container-md game-page-title">
            GAMES
        </div>

        <hr class="container-md" />

        <!-- Game Category -->
        <div class="game-category-container container-md">

            <div class="game-category">
                <a href="./leagueOfLegends.html" class="game-category-link" target="_blank">
                    <div class="game-category-item">
                        <img src="../src/img/gameLogo/leagueOfLegends.png" alt=""
                            class="game-category-item-img img-fluid">
                        <div class="game-category-item-name">리그오브레전드</div>
                    </div>
                </a>
            </div>

            <div class="game-category">
                <a href="./leagueOfLegends.html" class="game-category-link" target="_blank">
                    <div class="game-category-item">
                        <img src="../src/img/gameLogo/pubg.png" alt="" class="game-category-item-img img-fluid">
                        <div class="game-category-item-name">배틀그라운드</div>
                    </div>
                </a>
            </div>

            <div class="game-category">
                <a href="./leagueOfLegends.html" class="game-category-link" target="_blank">
                    <div class="game-category-item">
                        <img src="../src/img/gameLogo/pokemon.png" alt="" class="game-category-item-img img-fluid">
                        <div class="game-category-item-name">포켓몬스터</div>
                    </div>
                </a>
            </div>

            <div class="game-category">
                <a href="./leagueOfLegends.html" class="game-category-link" target="_blank">
                    <div class="game-category-item">
                        <img src="../src/img/gameLogo/latale.png" alt="" class="game-category-item-img img-fluid">
                        <div class="game-category-item-name">라테일</div>
                    </div>
                </a>
            </div>

            <div class="game-category">
                <a href="./leagueOfLegends.html" class="game-category-link" target="_blank">
                    <div class="game-category-item">
                        <img src="../src/img/gameLogo/overWatch.png" alt="" class="game-category-item-img img-fluid">
                        <div class="game-category-item-name">오버워치</div>
                    </div>
                </a>
            </div>

            <div class="game-category">
                <a href="./leagueOfLegends.html" class="game-category-link" target="_blank">
                    <div class="game-category-item">
                        <img src="../src/img/gameLogo/worldOfWarcraft.png" alt=""
                            class="game-category-item-img img-fluid">
                        <div class="game-category-item-name">월드오브워크래프트</div>
                    </div>
                </a>
            </div>

            <div class="game-category">
                <a href="./leagueOfLegends.html" class="game-category-link" target="_blank">
                    <div class="game-category-item">
                        <img src="../src/img/gameLogo/mineCraft.png" alt="" class="game-category-item-img img-fluid">
                        <div class="game-category-item-name">기타</div>
                    </div>
                </a>
            </div>

        </div>

        <hr class="container-md" />

        <!-- 상품 정렬 -->
        <div class="items-count-and-sorting container-md">
            <div class="items-count">Total Items</div>
            <div class="items-sorting">
                <div class="dropdown">
                    <button id="sortBtn" class="btn btn-secondary dropdown-toggle items-sorting" type="button"
                        data-bs-toggle="dropdown" aria-expanded="false">
                        신상품 순
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li id="sortNew" class="dropdown-item">신상품 순</li>
                        <li id="sortHighPrice" class="dropdown-item">높은 가격순</li>
                        <li id="sortLowPrice" class="dropdown-item">낮은 가격순</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 상품 진열 -->
        <div class="products-wrapper container-md">
            <!-- <a href="#" class="product-item-link" class="product-item-link">
                <div class="product-item">
                    <img src="./img/accessory/3febc3d0bb2120e738c4d30f0c802e28.jpg" alt="" class="product-item-img">
                    <div class="product-info">
                        <div class="product-item-game">리그오브레전드</div>
                        <div class="product-item-name">포로인형</div>
                        <div class="product-item-price">24,000원</div>
                    </div>
                </div>
            </a> -->
        </div>

        <script>

            // 상품 진열

            let objJson;
            async function load() {
                const data = await fetch('./images.json');
                objJson = await data.json();

                const leagueOfLegends = objJson.filter(obj => obj.game == `리그오브레전드`);

                const pubg = objJson.filter(obj => obj.game == `배틀그라운드`);

                const pokemon = objJson.filter(obj => obj.game == `포켓몬스터`);

                const laTale = objJson.filter(obj => obj.game == `라테일`);

                const overWatch = objJson.filter(obj => obj.game == `오버워치`);

                const worldOfWarcraft = objJson.filter(obj => obj.game == `월드오브워크래프트`);

                let sortedFromId = objJson.sort(function (a, b) {
                    return b['id'] - a['id']
                })

                for (let i = 0; i < sortedFromId.length; i++) {
                    let productInfo = objJson[i];
                    let productSrc = "./" + objJson[i]['src'].split('/').slice([2]).join('/');
                    let productGame = sortedFromId[i]['game'];
                    let productPrice = sortedFromId[i]['price'];
                    let productName = sortedFromId[i]['goodsName'];

                    $('.products-wrapper').append(`<a href="./219.html" class="product-item-link" class="product-item-link" target="_blank">
                            <div class="product-item">
                                <img src="${productSrc}" alt=""
                                    class="product-item-img">
                                <div class="product-info">
                                    <div class="product-item-game">${productGame}</div>
                                    <div class="product-item-name">${productName}</div>
                                    <div class="product-item-price">${productPrice}원</div>
                                </div>
                            </div>
                        </a>`);

                    // <a href="../products/productClick.html" class="product-item-link" class="product-item-link">
                    //         <div class="product-item">
                    //             <img src="https://image.auction.co.kr/itemimage/2e/62/6b/2e626b3626.jpg" alt=""
                    //                 class="product-item-img">
                    //             <div class="product-item-game">리그오브레전드</div>
                    //             <div class="product-item-name">포로인형</div>
                    //             <div class="product-item-price">24,000원</div>
                    //         </div>
                    //     </a>

                }
                // 21, 50, 51, 97, 123, 191, 192, 193, 209

                // 상품 개수 표시

                $('.items-count').text(`Total Items: ${objJson.length}`);

                // 상품 정렬

                $('#sortNew').click(function () {
                    $('#sortBtn').empty().text('신상품 순');
                    $('.products-wrapper').empty();

                    let sortedFromId = objJson.sort(function (a, b) {
                        return b['id'] - a['id']
                    })

                    for (let i = 0; i < sortedFromId.length; i++) {
                        let productInfo = sortedFromId[i];
                        let productSrc = "./" + sortedFromId[i]['src'].split('/').slice([2]).join('/');
                        let productGame = sortedFromId[i]['game'];
                        let productPrice = sortedFromId[i]['price'];
                        let productName = sortedFromId[i]['goodsName'];

                        $('.products-wrapper').append(`<a href="./219.html" class="product-item-link" class="product-item-link" target="_blank">
                            <div class="product-item">
                                <img src="${productSrc}" alt=""
                                    class="product-item-img">
                                <div class="product-info">
                                    <div class="product-item-game">${productGame}</div>
                                    <div class="product-item-name">${productName}</div>
                                    <div class="product-item-price">${productPrice}원</div>
                                </div>
                            </div>
                        </a>`);
                    }
                })

                $('#sortHighPrice').click(function () {
                    $('#sortBtn').empty().text('높은가격 순');
                    $('.products-wrapper').empty();

                    let sortedFromHighPrice = objJson.sort(function (a, b) {
                        return b['price'] - a['price']
                    })

                    for (let i = 0; i < sortedFromHighPrice.length; i++) {
                        let productInfo = sortedFromHighPrice[i];
                        let productSrc = "./" + sortedFromHighPrice[i]['src'].split('/').slice([2]).join('/');
                        let productGame = sortedFromHighPrice[i]['game'];
                        let productPrice = sortedFromHighPrice[i]['price'];
                        let productName = sortedFromHighPrice[i]['goodsName'];

                        $('.products-wrapper').append(`<a href="./219.html" class="product-item-link" class="product-item-link" target="_blank">
                            <div class="product-item">
                                <img src="${productSrc}" alt=""
                                    class="product-item-img">
                                <div class="product-info">
                                    <div class="product-item-game">${productGame}</div>
                                    <div class="product-item-name">${productName}</div>
                                    <div class="product-item-price">${productPrice}원</div>
                                </div>
                            </div>
                        </a>`);
                    }
                })

                $('#sortLowPrice').click(function () {
                    $('#sortBtn').empty().text('낮은가격 순');
                    $('.products-wrapper').empty();

                    let sortedFromLowPrice = objJson.sort(function (a, b) {
                        return a['price'] - b['price']
                    })

                    for (let i = 0; i < sortedFromLowPrice.length; i++) {
                        let productInfo = sortedFromLowPrice[i];
                        let productSrc = "./" + sortedFromLowPrice[i]['src'].split('/').slice([2]).join('/');
                        let productGame = sortedFromLowPrice[i]['game'];
                        let productPrice = sortedFromLowPrice[i]['price'];
                        let productName = sortedFromLowPrice[i]['goodsName'];

                        $('.products-wrapper').append(`<a href="./219.html" class="product-item-link" class="product-item-link" target="_blank">
                            <div class="product-item">
                                <img src="${productSrc}" alt=""
                                    class="product-item-img">
                                <div class="product-info">
                                    <div class="product-item-game">${productGame}</div>
                                    <div class="product-item-name">${productName}</div>
                                    <div class="product-item-price">${productPrice}원</div>
                                </div>
                            </div>
                        </a>`);
                    }
                })
            };
            load();

        </script>

    </main>










    <footer></footer>

    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>
</body>

</html>